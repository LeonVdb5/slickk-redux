{"ast":null,"code":"var _jsxFileName = \"/Users/LeonVdB/Desktop/slickk/src/containers/VisiblePostList.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { requestPosts } from '../actions/index';\nimport { ProductHoldFilters, ProductShineFilters, HairLengthFilters, HairTypeFilters } from '../constants';\nimport { withRouter, Route, Switch, Link } from 'react-router-dom';\nimport PostList from '../components/PostList';\nimport HairstyleList from '../components/HairstyleList';\nimport HairFilterBar from '../components/HairFilterBar';\nimport ProductList from '../components/ProductList';\nimport ProductFilterBar from '../components/ProductFilterBar';\nimport './VisiblePostList.css';\n\nconst getVisibleProducts = (products, holdFilter, shineFilter) => {\n  let visibleProducts = [];\n\n  switch (holdFilter) {\n    case ProductHoldFilters.SHOW_ALL_HOLD:\n      visibleProducts = products;\n      break;\n\n    case ProductHoldFilters.SHOW_HIGH_HOLD:\n      visibleProducts = products.filter(p => {\n        if (p.product_type === \"gel\" || p.product_type === \"pomade\" || p.product_type === \"clay\") {\n          return true;\n        }\n\n        return false;\n      });\n      break;\n\n    case ProductHoldFilters.SHOW_MED_HOLD:\n      visibleProducts = products.filter(p => {\n        if (p.product_type === \"wax\" || p.product_type === \"paste\") {\n          return true;\n        }\n\n        return false;\n      });\n      break;\n\n    case ProductHoldFilters.SHOW_LOW_HOLD:\n      visibleProducts = products.filter(p => {\n        if (p.product_type === \"cream\" || p.product_type === \"spray\") {\n          return true;\n        }\n\n        return false;\n      });\n      break;\n\n    default:\n      throw new Error(\"Unknown hold filter: \" + holdFilter);\n  }\n\n  switch (shineFilter) {\n    case ProductShineFilters.SHOW_ALL_SHINE:\n      return visibleProducts;\n\n    case ProductShineFilters.SHOW_HIGH_SHINE:\n      return visibleProducts.filter(p => {\n        if (p.product_type === \"gel\" || p.product_type === \"pomade\") {\n          return true;\n        }\n\n        return false;\n      });\n\n    case ProductShineFilters.SHOW_MED_SHINE:\n      return visibleProducts.filter(p => {\n        if (p.product_type === \"cream\" || p.product_type === \"wax\" || p.product_type === \"paste\") {\n          return true;\n        }\n\n        return false;\n      });\n\n    case ProductShineFilters.SHOW_LOW_SHINE:\n      return visibleProducts.filter(p => {\n        if (p.product_type === \"spray\" || p.product_type === \"clay\") {\n          return true;\n        }\n\n        return false;\n      });\n\n    default:\n      throw new Error(\"Unknown shine filter: \" + shineFilter);\n  }\n};\n\nconst getVisibleHairstyles = (hairstyles, lengthFilter, typeFilter) => {\n  let visibleHairstyles = [];\n\n  switch (lengthFilter) {\n    case HairLengthFilters.SHOW_ALL_LENGTH:\n      visibleHairstyles = hairstyles;\n      break;\n\n    case HairLengthFilters.SHOW_LONG_LENGTH:\n      visibleHairstyles = hairstyles.filter(h => h.hair_length === \"long\");\n      break;\n\n    case HairLengthFilters.SHOW_MED_LENGTH:\n      visibleHairstyles = hairstyles.filter(h => h.hair_length === \"medium\");\n      break;\n\n    case HairLengthFilters.SHOW_SHORT_LENGTH:\n      visibleHairstyles = hairstyles.filter(h => h.hair_length === \"short\");\n      break;\n\n    default:\n      throw new Error(\"Unknown hair length filter: \" + lengthFilter);\n  }\n\n  switch (typeFilter) {\n    case HairTypeFilters.SHOW_ALL_HAIRTYPES:\n      return visibleHairstyles;\n\n    case HairTypeFilters.SHOW_STRAIGHT_HAIR:\n      return visibleHairstyles.filter(h => h.hair_type === \"straight\");\n\n    case HairTypeFilters.SHOW_WAVY_HAIR:\n      return visibleHairstyles.filter(h => h.hair_type === \"wavy\");\n\n    case HairTypeFilters.SHOW_CURLY_HAIR:\n      return visibleHairstyles.filter(h => h.hair_type === \"curly\");\n\n    case HairTypeFilters.SHOW_COILY_HAIR:\n      return visibleHairstyles.filter(h => h.hair_type === \"coily\");\n\n    default:\n      throw new Error(\"Unknown hairtype filter: \" + typeFilter);\n  }\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    products: getVisibleProducts(state.requestPosts.products, ownProps.holdFilter, ownProps.shineFilter),\n    hairstyles: getVisibleHairstyles(state.requestPosts.hairstyles, state.HairLengthFilter, state.HairTypeFilter),\n    productHoldFilter: state.ProductHoldFilter,\n    productShineFilter: state.ProductShineFilter,\n    hairLengthFilter: state.HairLengthFilter,\n    hairTypeFilter: state.HairTypeFilter,\n    isPending: state.requestPosts.isPending\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onRequestPosts: () => dispatch(requestPosts())\n  };\n};\n\nclass VisiblePostList extends Component {\n  componentDidMount() {\n    this.props.onRequestPosts();\n  }\n\n  render() {\n    let _this$props = this.props,\n        products = _this$props.products,\n        hairstyles = _this$props.hairstyles,\n        productHoldFilter = _this$props.productHoldFilter,\n        productShineFilter = _this$props.productShineFilter,\n        hairLengthFilter = _this$props.hairLengthFilter,\n        hairTypeFilter = _this$props.hairTypeFilter;\n    return React.createElement(\"div\", {\n      className: \"postlist-main-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"filter-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/products/\".concat(productHoldFilter, \"/\").concat(productShineFilter),\n      render: props => React.createElement(ProductFilterBar, Object.assign({}, props, {\n        holdFilter: productHoldFilter,\n        shineFilter: productShineFilter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/hairstyles/\".concat(hairLengthFilter, \"/\").concat(hairTypeFilter),\n      render: props => React.createElement(HairFilterBar, Object.assign({}, props, {\n        lengthFilter: hairLengthFilter,\n        typeFilter: hairTypeFilter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"posts-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: props => React.createElement(PostList, Object.assign({}, props, {\n        products: products,\n        hairstyles: hairstyles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/products/\".concat(productHoldFilter, \"/\").concat(productShineFilter),\n      render: props => React.createElement(ProductList, Object.assign({}, props, {\n        products: products,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/hairstyles/\".concat(hairLengthFilter, \"/\").concat(hairTypeFilter),\n      render: props => React.createElement(HairstyleList, Object.assign({}, props, {\n        hairstyles: hairstyles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"sort-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(VisiblePostList));","map":{"version":3,"sources":["/Users/LeonVdB/Desktop/slickk/src/containers/VisiblePostList.js"],"names":["React","Component","connect","requestPosts","ProductHoldFilters","ProductShineFilters","HairLengthFilters","HairTypeFilters","withRouter","Route","Switch","Link","PostList","HairstyleList","HairFilterBar","ProductList","ProductFilterBar","getVisibleProducts","products","holdFilter","shineFilter","visibleProducts","SHOW_ALL_HOLD","SHOW_HIGH_HOLD","filter","p","product_type","SHOW_MED_HOLD","SHOW_LOW_HOLD","Error","SHOW_ALL_SHINE","SHOW_HIGH_SHINE","SHOW_MED_SHINE","SHOW_LOW_SHINE","getVisibleHairstyles","hairstyles","lengthFilter","typeFilter","visibleHairstyles","SHOW_ALL_LENGTH","SHOW_LONG_LENGTH","h","hair_length","SHOW_MED_LENGTH","SHOW_SHORT_LENGTH","SHOW_ALL_HAIRTYPES","SHOW_STRAIGHT_HAIR","hair_type","SHOW_WAVY_HAIR","SHOW_CURLY_HAIR","SHOW_COILY_HAIR","mapStateToProps","state","ownProps","HairLengthFilter","HairTypeFilter","productHoldFilter","ProductHoldFilter","productShineFilter","ProductShineFilter","hairLengthFilter","hairTypeFilter","isPending","mapDispatchToProps","dispatch","onRequestPosts","VisiblePostList","componentDidMount","props","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { requestPosts } from '../actions/index';\nimport { ProductHoldFilters, ProductShineFilters, HairLengthFilters, HairTypeFilters } from '../constants';\nimport { withRouter, Route, Switch, Link } from 'react-router-dom';\n\nimport PostList from '../components/PostList';\nimport HairstyleList from '../components/HairstyleList';\nimport HairFilterBar from '../components/HairFilterBar';\nimport ProductList from '../components/ProductList';\nimport ProductFilterBar from '../components/ProductFilterBar';\n\nimport './VisiblePostList.css';\n\n\n\nconst getVisibleProducts = (products, holdFilter, shineFilter) => {\n\tlet visibleProducts = []\n\tswitch (holdFilter) {\n\t\tcase ProductHoldFilters.SHOW_ALL_HOLD:\n\t\t\tvisibleProducts = products;\n\t\t\tbreak;\n\t\tcase ProductHoldFilters.SHOW_HIGH_HOLD:\n\t\t\tvisibleProducts = products.filter((p) => {\n\t\t\t\tif(p.product_type===\"gel\" || p.product_type===\"pomade\" || p.product_type===\"clay\"){\n\t\t\t\t\treturn true;\n\t\t\t\t} \n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tbreak;\n\t\tcase ProductHoldFilters.SHOW_MED_HOLD:\n\t\t\tvisibleProducts = products.filter((p) => {\n\t\t\t\tif(p.product_type===\"wax\" || p.product_type===\"paste\"){\n\t\t\t\t\treturn true;\n\t\t\t\t} \n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tbreak;\n\t\tcase ProductHoldFilters.SHOW_LOW_HOLD:\n\t\t\tvisibleProducts = products.filter((p) => {\n\t\t\t\tif(p.product_type===\"cream\" || p.product_type===\"spray\"){\n\t\t\t\t\treturn true;\n\t\t\t\t} \n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(\"Unknown hold filter: \" + holdFilter);\n\t}\n\tswitch (shineFilter) {\n\t\tcase ProductShineFilters.SHOW_ALL_SHINE:\n\t\t\treturn visibleProducts\n\t\tcase ProductShineFilters.SHOW_HIGH_SHINE:\n\t\t\treturn visibleProducts.filter((p) => {\n\t\t\t\tif(p.product_type===\"gel\" || p.product_type===\"pomade\"){\n\t\t\t\t\treturn true;\n\t\t\t\t} \n\t\t\t\treturn false;\n\t\t\t});\n\t\tcase ProductShineFilters.SHOW_MED_SHINE:\n\t\t\treturn visibleProducts.filter((p) => {\n\t\t\t\tif(p.product_type===\"cream\" || p.product_type===\"wax\" || p.product_type===\"paste\"){\n\t\t\t\t\treturn true;\n\t\t\t\t} \n\t\t\t\treturn false;\n\t\t\t});\n\t\tcase ProductShineFilters.SHOW_LOW_SHINE:\n\t\t\treturn visibleProducts.filter((p) => {\n\t\t\t\tif(p.product_type===\"spray\" || p.product_type===\"clay\"){\n\t\t\t\t\treturn true;\n\t\t\t\t} \n\t\t\t\treturn false;\n\t\t\t});\n\t\tdefault:\n\t\t\tthrow new Error(\"Unknown shine filter: \" + shineFilter);\n\t}\n}\n\nconst getVisibleHairstyles = (hairstyles, lengthFilter, typeFilter) => {\n\tlet visibleHairstyles = []\n\tswitch (lengthFilter) {\n\t\tcase HairLengthFilters.SHOW_ALL_LENGTH:\n\t\t\tvisibleHairstyles = hairstyles;\n\t\t\tbreak;\n\t\tcase HairLengthFilters.SHOW_LONG_LENGTH:\n\t\t\tvisibleHairstyles = hairstyles.filter((h) => h.hair_length===\"long\")\n\t\t\tbreak;\n\t\tcase HairLengthFilters.SHOW_MED_LENGTH:\n\t\t\tvisibleHairstyles = hairstyles.filter((h) => h.hair_length===\"medium\")\n\t\t\tbreak;\n\t\tcase HairLengthFilters.SHOW_SHORT_LENGTH:\n\t\t\tvisibleHairstyles = hairstyles.filter((h) => h.hair_length===\"short\")\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(\"Unknown hair length filter: \" + lengthFilter);\n\t}\n\tswitch (typeFilter) {\n\t\tcase HairTypeFilters.SHOW_ALL_HAIRTYPES:\n\t\t\treturn visibleHairstyles\n\t\tcase HairTypeFilters.SHOW_STRAIGHT_HAIR:\n\t\t\treturn visibleHairstyles.filter((h) => h.hair_type===\"straight\")\n\t\tcase HairTypeFilters.SHOW_WAVY_HAIR:\n\t\t\treturn visibleHairstyles.filter((h) => h.hair_type===\"wavy\")\n\t\tcase HairTypeFilters.SHOW_CURLY_HAIR:\n\t\t\treturn visibleHairstyles.filter((h) => h.hair_type===\"curly\")\n\t\tcase HairTypeFilters.SHOW_COILY_HAIR:\n\t\t\treturn visibleHairstyles.filter((h) => h.hair_type===\"coily\")\n\t\tdefault:\n\t\t\tthrow new Error(\"Unknown hairtype filter: \" + typeFilter);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\treturn {\n  \tproducts: getVisibleProducts(state.requestPosts.products, ownProps.holdFilter, ownProps.shineFilter),\n  \thairstyles: getVisibleHairstyles(state.requestPosts.hairstyles, state.HairLengthFilter, state.HairTypeFilter),\n  \tproductHoldFilter: state.ProductHoldFilter,\n  \tproductShineFilter: state.ProductShineFilter,\n  \thairLengthFilter: state.HairLengthFilter,\n  \thairTypeFilter: state.HairTypeFilter,\n  \tisPending: state.requestPosts.isPending\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onRequestPosts: () => dispatch(requestPosts())\n  }\n}  \n\n\nclass VisiblePostList extends Component {\n\n\tcomponentDidMount(){\n    this.props.onRequestPosts();\n  }\n\n\trender () { \n\n\t\tlet { products, hairstyles, productHoldFilter, productShineFilter, hairLengthFilter, hairTypeFilter } = this.props;\n\t\t\n\t\treturn (\n\t\t\t<div className=\"postlist-main-container\">\n\t\t\t\t<div className=\"filter-container\">\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath={`/products/${productHoldFilter}/${productShineFilter}`}\n\t\t\t\t\t\t\trender={(props) => <ProductFilterBar {...props} holdFilter={productHoldFilter} shineFilter={productShineFilter}/>}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\tpath={`/hairstyles/${hairLengthFilter}/${hairTypeFilter}`}\n\t\t\t\t\t\t\trender={(props) => <HairFilterBar {...props} lengthFilter={hairLengthFilter} typeFilter={hairTypeFilter}/>}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"posts-container\">\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact path=\"/\"\n\t\t\t\t\t\t\t\trender={(props) => <PostList {...props} products={products} hairstyles={hairstyles} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath={`/products/${productHoldFilter}/${productShineFilter}`}\n\t\t\t\t\t\t\t\trender={(props) => <ProductList {...props} products={products} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tpath={`/hairstyles/${hairLengthFilter}/${hairTypeFilter}`}\n\t\t\t\t\t\t\t\trender={props => <HairstyleList {...props} hairstyles={hairstyles} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sort-container\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(VisiblePostList))"]},"metadata":{},"sourceType":"module"}